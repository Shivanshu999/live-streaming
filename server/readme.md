step 1 -> 

(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % mediamtx          
2026/01/29 15:03:49 INF MediaMTX v1.9.3
2026/01/29 15:03:49 INF configuration loaded from /Users/shivanshuawasthi/mediamtx.yml
2026/01/29 15:03:49 INF [RTSP] listener opened on :8554 (TCP), :8000 (UDP/RTP), :8001 (UDP/RTCP)
2026/01/29 15:03:49 INF [RTMP] listener opened on :1935
2026/01/29 15:03:49 INF [HLS] listener opened on :8888
2026/01/29 15:03:49 INF [WebRTC] listener opened on :8889 (HTTP), :8189 (ICE/UDP)
2026/01/29 15:03:49 INF [SRT] listener opened on :8890 (UDP)
2026/01/29 15:03:52 INF [RTMP] [conn [::1]:61742] opened
2026/01/29 15:03:52 INF [RTMP] [conn [::1]:61742] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:06:14 INF [RTMP] [conn [::1]:61742] closed: EOF
2026/01/29 15:06:16 INF [RTMP] [conn [::1]:61784] opened
2026/01/29 15:06:16 INF [RTMP] [conn [::1]:61784] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:06:20 INF [RTMP] [conn [::1]:61784] closed: EOF
2026/01/29 15:07:30 INF [RTMP] [conn [::1]:61797] opened
2026/01/29 15:07:30 INF [RTMP] [conn [::1]:61797] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:08:23 INF [RTMP] [conn [::1]:61797] closed: EOF
2026/01/29 15:13:28 INF [RTMP] [conn [::1]:61873] opened
2026/01/29 15:13:29 INF [RTMP] [conn [::1]:61873] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:14:16 INF [RTMP] [conn [::1]:61873] closed: EOF
2026/01/29 15:14:20 INF [RTMP] [conn [::1]:61901] opened
2026/01/29 15:14:21 INF [RTMP] [conn [::1]:61901] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:16:44 INF [RTMP] [conn [::1]:61901] closed: EOF
2026/01/29 15:16:56 INF [RTMP] [conn [::1]:61943] opened
2026/01/29 15:16:57 INF [RTMP] [conn [::1]:61943] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:23:20 INF [RTMP] [conn [::1]:61943] closed: EOF
2026/01/29 15:26:11 INF [RTMP] [conn [::1]:62034] opened
2026/01/29 15:26:12 INF [RTMP] [conn [::1]:62034] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:30:27 INF [RTMP] [conn [::1]:62034] closed: EOF
2026/01/29 15:30:28 INF [RTMP] [conn [::1]:62084] opened
2026/01/29 15:30:29 INF [RTMP] [conn [::1]:62084] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:31:07 INF [RTMP] [conn [::1]:62093] opened
2026/01/29 15:31:07 INF [RTMP] [conn [::1]:62093] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:32:24 INF [RTMP] [conn [::1]:62093] closed: write tcp [::1]:1935->[::1]:62093: write: broken pipe
2026/01/29 15:34:33 INF [RTMP] [conn [::1]:62126] opened
2026/01/29 15:34:33 INF [RTMP] [conn [::1]:62126] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:34:50 INF [RTMP] [conn [::1]:62126] closed: write tcp [::1]:1935->[::1]:62126: write: broken pipe
2026/01/29 15:40:32 INF [RTMP] [conn [::1]:62197] opened
2026/01/29 15:40:32 INF [RTMP] [conn [::1]:62197] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:41:00 INF [RTMP] [conn [::1]:62197] closed: write tcp [::1]:1935->[::1]:62197: write: broken pipe
2026/01/29 15:43:34 INF [RTMP] [conn [::1]:62236] opened
2026/01/29 15:43:34 INF [RTMP] [conn [::1]:62236] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:49:05 INF [RTMP] [conn [::1]:62236] closed: write tcp [::1]:1935->[::1]:62236: write: broken pipe
2026/01/29 15:53:15 INF [RTMP] [conn [::1]:62412] opened
2026/01/29 15:53:15 INF [RTMP] [conn [::1]:62412] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:55:38 INF [RTMP] [conn [::1]:62412] closed: write tcp [::1]:1935->[::1]:62412: write: broken pipe
2026/01/29 15:56:09 INF [RTMP] [conn [::1]:62084] closed: EOF
2026/01/29 15:56:11 INF [RTMP] [conn [::1]:62466] opened
2026/01/29 15:56:12 INF [RTMP] [conn [::1]:62466] is publishing to path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 15:56:23 INF [RTMP] [conn [::1]:62470] opened
2026/01/29 15:56:23 INF [RTMP] [conn [::1]:62470] is reading from path 'live/test', 2 tracks (H264, MPEG-4 Audio)
2026/01/29 16:58:33 INF [RTMP] [conn [::1]:62470] closed: write tcp [::1]:1935->[::1]:62470: write: broken pipe
2026/01/29 17:19:37 INF [RTMP] [conn [::1]:62466] closed: EOF



MediaMTX (formerly rtsp-simple-server) is a powerful, zero-dependency, open-source media server and proxy that routes live audio/video streams, supporting protocols like RTSP, RTMP, WebRTC, and LL-HLS, acting as a "media router" for publishing, reading, recording, and converting streams, ideal for IP cameras, 3D printing webcams, and general real-time streaming across devices. 
Key Features
Protocol Support: Handles RTSP, RTMP, WebRTC, LL-HLS, SRT, and more, converting between them seamlessly.
Zero Dependencies: A single, self-contained executable file for easy deployment on Windows, Linux, and macOS.
Media Routing: Acts as a broker to route streams from one protocol/source to another.
Recording & Playback: Can record streams to disk and play them back.
Security: Supports authentication (username/password) and token verification.
API & Metrics: Offers an API for control and Prometheus-compatible metrics for monitoring.
Hardware Support: Natively supports Raspberry Pi Cameras. 
Common Uses
IP Cameras: Proxying and converting feeds from IP cameras.
3D Printing: Streaming webcam feeds for 3D printers with low latency.
Browser Streaming: Enabling WebRTC for browser-based viewing.
Broadcasting: Creating simple pop-up streaming services or enhancing remote learning.

step-> 2

Last login: Thu Jan 29 15:03:59 on ttys003
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % ls ~/stream/hls 
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % ls
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % ls
index.m3u8	index1.ts	index3.ts	index5.ts
index0.ts	index2.ts	index4.ts	index6.ts
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % cd ..
(base) shivanshuawasthi@shivanshus-MacBook-Air stream % cd ..
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % cd streams
(base) shivanshuawasthi@shivanshus-MacBook-Air streams % cd hls
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % ls
index.m3u8	index20.ts	index41.ts	index43.ts	index45.ts
index15.ts	index40.ts	index42.ts	index44.ts	index46.ts
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % rm -rf ~/streams/hls
(base) shivanshuawasthi@shivanshus-MacBook-Air hls % ffmpeg -i rtmp://localhost/live/test \
-c:v libx264 -preset veryfast -tune zerolatency \
-g 60 -keyint_min 60 -sc_threshold 0 \
-force_key_frames "expr:gte(t,n_forced*2)" \
-c:a aac -ar 48000 \
-f hls -hls_time 4 -hls_list_size 6 \
-hls_flags delete_segments+append_list+omit_endlist \
/Users/shivanshuawasthi/stream/hls/index.m3u8
ffmpeg version 8.0.1 Copyright (c) 2000-2025 the FFmpeg developers
  built with Apple clang version 17.0.0 (clang-1700.6.3.2)
  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0.1_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags= --enable-ffplay --enable-gpl --enable-libsvtav1 --enable-libopus --enable-libx264 --enable-libmp3lame --enable-libdav1d --enable-libvpx --enable-libx265 --enable-videotoolbox --enable-audiotoolbox --enable-neon
  libavutil      60.  8.100 / 60.  8.100
  libavcodec     62. 11.100 / 62. 11.100
  libavformat    62.  3.100 / 62.  3.100
  libavdevice    62.  1.100 / 62.  1.100
  libavfilter    11.  4.100 / 11.  4.100
  libswscale      9.  1.100 /  9.  1.100
  libswresample   6.  1.100 /  6.  1.100
Input #0, flv, from 'rtmp://localhost/live/test':
  Duration: N/A, start: 11.158000, bitrate: N/A
  Stream #0:0: Video: h264 (High), yuv420p(tv, bt709, progressive), 1280x720 [SAR 1:1 DAR 16:9], 30.30 fps, 30 tbr, 1k tbn, start 12.066000
  Stream #0:1: Audio: aac (LC), 48000 Hz, stereo, fltp, start 11.158000
Stream mapping:
  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))
  Stream #0:1 -> #0:1 (aac (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x133708de0] using SAR=1/1
[libx264 @ 0x133708de0] using cpu capabilities: ARMv8 NEON DotProd
[libx264 @ 0x133708de0] profile High, level 3.1, 4:2:0, 8-bit
[libx264 @ 0x133708de0] 264 - core 165 r3222 b35605a - H.264/MPEG-4 AVC codec - Copyleft 2003-2025 - http://www.videolan.org/x264.html - options: cabac=1 ref=1 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=2 psy=1 psy_rd=1.00:0.00 mixed_ref=0 me_range=16 chroma_me=1 trellis=0 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=0 threads=8 lookahead_threads=8 sliced_threads=1 slices=8 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=0 weightp=1 keyint=60 keyint_min=31 scenecut=0 intra_refresh=0 rc=crf mbtree=0 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, hls, to '/Users/shivanshuawasthi/stream/hls/index.m3u8':
  Metadata:
    encoder         : Lavf62.3.100
  Stream #0:0: Video: h264, yuv420p(tv, bt709, progressive), 1280x720 [SAR 1:1 DAR 16:9], q=2-31, 30 fps, 90k tbn
    Metadata:
      encoder         : Lavc62.11.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
  Stream #0:1: Audio: aac (LC), 48000 Hz, stereo, fltp, 128 kb/s
    Metadata:
      encoder         : Lavc62.11.100 aac
frame=   72 fps=0.0 q=24.0 size=N/A time=00:00:02.40 bitrate=N/A dup=27 drop=0 sframe=   88 fps= 88 q=26.0 size=N/A time=00:00:02.93 bitrate=N/A dup=27 drop=0 sframe=  102 fps= 67 q=24.0 size=N/A time=00:00:03.40 bitrate=N/A dup=27 drop=0 sframe=  118 fps= 58 q=23.0 size=N/A time=00:00:03.93 bitrate=N/A dup=27 drop=0 s[hls @ 0x133708460] Opening '/Users/shivanshuawasthi/stream/hls/index90.ts' for writing
[hls @ 0x133708460] Opening '/Users/shivanshuawasthi/stream/hls/index.m3u8.tmp' for writing
frame=  133 fps= 53 q=23.0 size=N/A time=00:00:04.43 bitrate=N/A dup=27 drop=0 sframe=  148 fps= 49 q=25.0 size=N/A time=00:00:04.93 bitrate=N/A dup=27 drop=0 sframe=  163 fps= 46 q=24.0 size=N/A time=00:00:05.43 bitrate=N/A dup=27 drop=0 sframe=  179 fps= 44 q=23.0 size=N/A time=00:00:05.96 bitrate=N/A dup=27 drop=0 sframe=  193 fps= 42 q=23.0 size=N/A time=00:00:06.43 bitrate=N/A dup=27 drop=0 sframe=  209 fps= 41 q=25.0 size=N/A time=00:00:06.96 bitrate=N/A dup=27 drop=0 sframe=  224 fps= 40 q=22.0 size=N/A time=00:00:07.46 bitrate=N/A dup=27 drop=0 sframe=  239 fps= 39 q=22.0 size=N/A time=00:00:07.96 bitrate=N/A dup=27 drop=0 s[hls @ 0x133708460] Opening '/Users/shivanshuawasthi/stream/hls/index91.ts' for writing
[hls @ 0x133708460] Opening '/Users/shivanshuawasthi/stream/hls/index.m3u8.tmp' for writing
frame=  254 fps= 39 q=23.0 size=N/A time=00:00:08.46 bitrate=N/A dup=27 drop=0 sframe=  269 fps= 38 q=24.0 size=N/A time=00:00:08.96 bitrate=N/A dup=27 drop=0 sframe=  284 fps= 38 q=23.0 size=N/A time=00:00:09.46 bitrate=N/A dup=27 drop=0 sframe=  299 fps= 37 q=24.0 size=N/A time=00:00:09.96 bitrate=N/A dup=27 drop=0 sframe=  314 fps= 37 q=24.0 size=N/A time=00:00:10.46 bitrate=N/A dup=27 drop=0 sframe=  330 fps= 36 q=25.0 size=N/A time=00:00:11.00 bitrate=N/A dup=27 drop=0 sframe=  345 fps= 36 q=23.0 size=N/A time=00:00:11.50 bitrate=N/A dup=27 drop=0 sframe=  360 fps= 36 q=23.0 size=N/A time=00:00:12.00 bitrate=N/A dup=27 drop=0 s[hls @ 0x133708460] Opening '/Users/shivanshuawasthi/stream/hls/index92.ts' for writing



step: 3 -> 

## cd /Users/shivanshuawasthi/streams/hls ##
Last login: Thu Jan 29 15:35:04 on ttys004
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % watch ls -lh ~/stream/hls
zsh: command not found: watch
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % watch ls -lh ~/stream/hls
zsh: command not found: watch
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % cat /Users/shivanshuawasthi/stream/hls/index.m3u8
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:4
#EXT-X-MEDIA-SEQUENCE:143
#EXTINF:4.000000,
index143.ts
#EXTINF:4.000000,
index144.ts
#EXTINF:4.000000,
index145.ts
#EXTINF:4.000000,
index146.ts
#EXTINF:4.000000,
index147.ts
#EXTINF:4.000000,
index148.ts
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % cat /Users/shivanshuawasthi/stream/hls/index.m3u8
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:4
#EXT-X-MEDIA-SEQUENCE:1012
#EXTINF:4.000000,
index1012.ts
#EXTINF:4.000000,
index1013.ts
#EXTINF:4.000000,
index1014.ts
#EXTINF:4.000000,
index1015.ts
#EXTINF:4.000000,
index1016.ts
#EXTINF:4.000000,
index1017.ts
(base) shivanshuawasthi@shivanshus-MacBook-Air ~ % 